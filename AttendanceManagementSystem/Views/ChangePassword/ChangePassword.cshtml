
@{
    ViewBag.Title = "ChangePassword";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2 class="container">ChangePassword</h2>
<div class="container">
    <form action="">     
        <div class="row">
            <div class="col-lg-3">
                <div class="form-group">
                    <label for="oldpass">Current Password:</label>
                    <input type="password" class="form-control" id="oldpass">
                </div>
            </div>
            <div class="col-lg-3">
                <div class="form-group">
                    <label for="newpass">New Password:</label>
                    <input type="password" class="form-control" id="newpass">
                </div>
            </div>
            <div class="col-lg-3">
                <div class="form-group">
                    <label for="confirmpass">Confirm Password:</label>  
                    <input type="password" class="form-control" id="confirmpass">
                </div>
            </div>
            <div class="col-lg-3">
                <button type="button" onclick="BtnSubmitClick()" class="btn btn-default">Submit</button>
            </div>
        </div>

    </form>

</div>
<script>
   
    function BtnSubmitClick() {
        var oldpassword = document.getElementById("oldpass").value;
        var newpassword = document.getElementById("newpass").value;
        var repeatpassword = document.getElementById("confirmpass").value;
        if (newpassword != repeatpassword) {
            alert("New Password and Confirm Password are not same");
            return false;
        }
        $.ajax({
            type: "POST",           
            url: '/ChangePassword/ChangePassword',
            data: "{'oldpassword':'" + oldpassword + "','newpassword':'" + newpassword + "'}",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            success: function (response) {
                var resdata = JSON.parse(response);
                alert(resdata);
            }
        });
    }
</script>
